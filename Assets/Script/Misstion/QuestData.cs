using UnityEngine;
using System.Collections.Generic;

// ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏Ñ‡∏ß‡∏™: ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß (‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤) ‡∏´‡∏£‡∏∑‡∏≠ ‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ
public enum QuestType
{
    Story,   // ‡πÄ‡∏Ñ‡∏ß‡∏™‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß ‡∏°‡∏µ Story Flow + ‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤
    Battle   // ‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ ‡πÄ‡∏™‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô + ‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå ‡πÅ‡∏•‡πâ‡∏ß‡πÉ‡∏´‡πâ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
}

// ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÄ‡∏°‡∏ô‡∏π‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏Ñ‡∏•‡∏¥‡∏Å‡∏Ç‡∏ß‡∏≤‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Asset ‡∏Ñ‡∏±‡∏°‡∏†‡∏µ‡∏£‡πå‡πÄ‡∏Ñ‡∏ß‡∏™
[CreateAssetMenu(fileName = "NewQuestData", menuName = "MissionSystem/QuestData")]
public class QuestData : ScriptableObject
{
    [Header("--- ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏Ç‡∏≠‡∏á‡∏†‡∏≤‡∏£‡∏Å‡∏¥‡∏à ---")]
    public string questName; // ‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏Ñ‡∏ß‡∏™‡πÄ‡∏≠‡∏≤‡πÑ‡∏ß‡πâ‡∏≠‡πà‡∏≤‡∏ô‡πÄ‡∏≠‡∏á
    [TextArea] public string questDescription;

    [Header("--- ‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡πÄ‡∏Ñ‡∏ß‡∏™ ---")]
    [Tooltip("Story = ‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á‡∏£‡∏≤‡∏ß/‡∏ö‡∏ó‡∏™‡∏ô‡∏ó‡∏ô‡∏≤ | Battle = ‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ (‡πÄ‡∏™‡∏Å‡∏ú‡∏π‡πâ‡πÄ‡∏•‡πà‡∏ô+‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå)")]
    public QuestType questType = QuestType.Story;

    [Header("--- ‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå (Story Flow) ---")]
    [Tooltip("‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠ questType = Story")]
    public List<StoryStep> storyFlow; // ‡∏•‡∏¥‡∏™‡∏ï‡πå‡∏Ç‡∏≠‡∏á‡πÄ‡∏´‡∏ï‡∏∏‡∏Å‡∏≤‡∏£‡∏ì‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡∏∂‡πâ‡∏ô‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ô‡∏µ‡πâ

    [Header("--- ‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ (Battle) ---")]
    [Tooltip("‡πÉ‡∏ä‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠ questType = Battle")]
    public BattleQuestConfig battleConfig;
}

// ---------------------------------------------------------
// ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Ñ‡∏ß‡∏™‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ: ‡∏ï‡∏±‡∏ß‡∏•‡∏∞‡∏Ñ‡∏£‡∏ó‡∏µ‡πà‡πÄ‡∏™‡∏Å, ‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå + ‡∏à‡∏∏‡∏î‡πÄ‡∏™‡∏Å, ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏•
// ---------------------------------------------------------
[System.Serializable]
public class BattleQuestConfig
{
    [Header("--- üåå ‡∏°‡∏¥‡∏ï‡∏¥‡∏™‡∏°‡∏£‡∏†‡∏π‡∏°‡∏¥ (Scene) ---")]
    [Tooltip("‡∏û‡∏¥‡∏°‡∏û‡πå‡∏ä‡∏∑‡πà‡∏≠ Scene ‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏´‡∏•‡∏î‡πÉ‡∏´‡πâ‡∏ï‡∏£‡∏á‡πÄ‡∏õ‡πä‡∏∞! (‡∏≠‡∏¢‡πà‡∏≤‡∏•‡∏∑‡∏°‡πÄ‡∏≠‡∏≤ Scene ‡πÑ‡∏õ‡πÉ‡∏™‡πà‡πÉ‡∏ô Build Settings ‡∏î‡πâ‡∏ß‡∏¢‡∏ô‡∏∞‡∏Ç‡∏≠‡∏£‡∏±‡∏ö)")]
    public string battleSceneName = "BattleArena_Forest";

    [Header("--- üí∞ ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• ---")]
    [Tooltip("‡πÄ‡∏á‡∏¥‡∏ô‡∏ó‡∏µ‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏à‡∏ö‡∏Å‡∏≤‡∏£‡∏ï‡πà‡∏≠‡∏™‡∏π‡πâ")]
    public int rewardGold;

    [Header("--- üëø ‡∏Å‡∏≠‡∏á‡∏ó‡∏±‡∏û‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå ---")]
    [Tooltip("‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏™‡∏Å (‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏ï‡∏±‡∏ß‡∏£‡∏∞‡∏ö‡∏∏ Prefab ‡πÅ‡∏•‡∏∞‡∏î‡∏±‡∏ä‡∏ô‡∏µ‡∏à‡∏∏‡∏î‡πÄ‡∏™‡∏Å‡πÉ‡∏ô BattleQuestController)")]
    public List<MonsterSpawnEntry> monsterSpawns = new List<MonsterSpawnEntry>();
}

[System.Serializable]
public class MonsterSpawnEntry
{
    [Tooltip("Prefab ‡∏Ç‡∏≠‡∏á‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏™‡∏Å")]
    public GameObject monsterPrefab;

    // ‚ö° ‡∏™‡∏¥‡πà‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏Ç‡πâ‡∏≤‡∏°‡∏≤: ‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏™‡∏Å!
    [Tooltip("‡∏à‡∏≥‡∏ô‡∏ß‡∏ô‡∏°‡∏≠‡∏ô‡∏™‡πÄ‡∏ï‡∏≠‡∏£‡πå‡∏ó‡∏µ‡πà‡∏à‡∏∞‡πÄ‡∏™‡∏Å‡∏à‡∏≤‡∏Å Prefab ‡∏ô‡∏µ‡πâ")]
    public int amount = 1;

    [Tooltip("‡∏î‡∏±‡∏ä‡∏ô‡∏µ‡∏à‡∏∏‡∏î‡πÄ‡∏™‡∏Å (‡∏ï‡∏£‡∏á‡∏Å‡∏±‡∏ö‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÉ‡∏ô BattleQuestController.monsterSpawnPoints)")]
    public int spawnPointIndex;
}

// ---------------------------------------------------------
// ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡πÅ‡∏ï‡πà‡∏•‡∏∞ "‡∏Å‡πâ‡∏≤‡∏ß" ‡πÉ‡∏ô‡πÄ‡∏ô‡∏∑‡πâ‡∏≠‡πÄ‡∏£‡∏∑‡πà‡∏≠‡∏á
// ---------------------------------------------------------
[System.Serializable]
public class StoryStep
{
    public string stepName;
    public List<StoryOption> options;
}

// ---------------------------------------------------------
// ‡πÇ‡∏Ñ‡∏£‡∏á‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡∏≠‡∏á "‡∏ó‡∏≤‡∏á‡πÄ‡∏•‡∏∑‡∏≠‡∏Å" ‡πÉ‡∏ô‡πÅ‡∏ï‡πà‡∏•‡∏∞‡∏Å‡πâ‡∏≤‡∏ß
// ---------------------------------------------------------
[System.Serializable]
public class StoryOption
{
    public string buttonText;
    public Textbase targetTextbase;

    [Header("--- üí∞ ‡∏£‡∏≤‡∏á‡∏ß‡∏±‡∏• (Reward) ---")]
    public int rewardGold;

    [Header("--- ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç Stat (‡πÉ‡∏™‡πà 0 ‡∏Ñ‡∏∑‡∏≠‡πÑ‡∏°‡πà‡πÄ‡∏ä‡πá‡∏Ñ) ---")]
    public int reqHP;
    public int reqVIT;
    public int reqSTR;
    public int reqDEX;
    public int reqINT;
    public int reqCHA;
    public int reqLUCK;

    [Header("--- ‡πÄ‡∏á‡∏∑‡πà‡∏≠‡∏ô‡πÑ‡∏Ç Skill ---")]
    public string skillNeed;
}